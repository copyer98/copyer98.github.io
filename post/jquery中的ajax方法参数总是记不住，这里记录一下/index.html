<html>
<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>jQuery ajax方法 | Gridea</title>

<link rel="shortcut icon" href="https://copyer98.github.io/favicon.ico?v=1646498792143">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://copyer98.github.io/styles/main.css">
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css"> -->

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/9.12.0/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/9.12.0/languages//dart.min.js"></script>

<!-- <script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script> -->
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <a class="navbar-brand" href="/">
        <img class="user-avatar" src="/images/avatar.png" alt="头像">
        <div class="site-name gt-c-content-color-first">
            Gridea
        </div>
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" id="changeNavbar">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
            <div class="nav-item">
                
                <a href="/" class="menu gt-a-link">
                    首页
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/archives" class="menu gt-a-link">
                    归档
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/tags" class="menu gt-a-link">
                    标签
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/post/about" class="menu gt-a-link">
                    关于
                </a>
                
            </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1646498792143"
                action="/search/">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>
<script>
    /* 移动端导航栏展开/收起切换 */
    document.getElementById('changeNavbar').onclick = () => {
        var element = document.getElementById('navbarSupportedContent');
        if (element.style.display === 'none' || element.style.display === '') {
            element.style.display = 'block';
        } else {
            element.style.display = 'none';
        }
    }
</script>

    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    jQuery ajax方法
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        · 2018-02-27 ·
                    </time>
                    
                        <a href="https://copyer98.github.io/tag/mzSu0sEqew/" class="post-tags">
                            # Programming
                        </a>
                    
                        <a href="https://copyer98.github.io/tag/KGIBqv9z8E/" class="post-tags">
                            # JavaScript
                        </a>
                    
                </div>
                <div class="post-content">
                    <h1 id="jquery中的ajax方法参数总是记不住这里记录一下">jquery中的ajax方法参数总是记不住，这里记录一下。</h1>
<p>1.url:</p>
<p>要求为String类型的参数，（默认为当前页地址）发送请求的地址。</p>
<p>2.type:<br>
要求为String类型的参数，请求方式（post或get）默认为get。注意其他http请求方法，例如put和delete也可以使用，但仅部分浏览器支持。</p>
<p>3.timeout:<br>
要求为Number类型的参数，设置请求超时时间（毫秒）。此设置将覆盖$.ajaxSetup()方法的全局设置。</p>
<p>4.async:<br>
要求为Boolean类型的参数，默认设置为true，所有请求均为异步请求。如果需要发送同步请求，请将此选项设置为false。注意，同步请求将锁住浏览器，用户其他操作必须等待请求完成才可以执行。</p>
<p>5.cache:<br>
要求为Boolean类型的参数，默认为true（当dataType为script时，默认为false），设置为false将不会从浏览器缓存中加载请求信息。</p>
<p>6.data:<br>
要求为Object或String类型的参数，发送到服务器的数据。如果已经不是字符串，将自动转换为字符串格式。get请求中将附加在url后。防止这种自动转换，可以查看　　processData选项。对象必须为key/value格式，例如<code>{foo1:&quot;bar1&quot;,foo2:&quot;bar2&quot;}</code>转换为<code>&amp;foo1=bar1&amp;foo2=bar2</code>。如果是数组，JQuery将自动为不同值对应同一个名称。例如<code>{foo:[&quot;bar1&quot;,&quot;bar2&quot;]}</code>转换为<code>&amp;foo=bar1&amp;foo=bar2</code>。</p>
<p>7.dataType:<br>
要求为String类型的参数，预期服务器返回的数据类型。如果不指定，JQuery将自动根据http包mime信息返回responseXML或responseText，并作为回调函数参数传递。可用的类型如下：<br>
xml：返回XML文档，可用JQuery处理。<br>
html：返回纯文本HTML信息；包含的script标签会在插入DOM时执行。<br>
script：返回纯文本JavaScript代码。不会自动缓存结果。除非设置了cache参数。注意在远程请求时（不在同一个域下），所有post请求都将转为get请求。<br>
json：返回JSON数据。<br>
jsonp：JSONP格式。使用SONP形式调用函数时，例如<code>myurl?callback=?</code>，JQuery将自动替换后一个“?”为正确的函数名，以执行回调函数。<br>
text：返回纯文本字符串。</p>
<p>8.beforeSend：<br>
要求为Function类型的参数，发送请求前可以修改XMLHttpRequest对象的函数，例如添加自定义HTTP头。在beforeSend中如果返回false可以取消本次ajax请求。XMLHttpRequest对象是惟一的参数。</p>
<pre><code class="language-javascript"> function(XMLHttpRequest) {
        this; //调用本次ajax请求时传递的options参数 
    }
</code></pre>
<p>9.complete：<br>
要求为Function类型的参数，请求完成后调用的回调函数（请求成功或失败时均调用）。参数：XMLHttpRequest对象和一个描述成功请求类型的字符串。</p>
<pre><code class="language-javascript">function(XMLHttpRequest, textStatus) {
        this; //调用本次ajax请求时传递的options参数
    }
</code></pre>
<p>10.success：要求为Function类型的参数，请求成功后调用的回调函数，有两个参数。<br>
​         (1)由服务器返回，并根据dataType参数进行处理后的数据。<br>
​         (2)描述状态的字符串。</p>
<pre><code class="language-javascript">         function(data, textStatus){
            //data可能是xmlDoc、jsonObj、html、text等等
            this;  //调用本次ajax请求时传递的options参数
         }
</code></pre>
<p>11.error:<br>
要求为Function类型的参数，请求失败时被调用的函数。该函数有3个参数，即XMLHttpRequest对象、错误信息、捕获的错误对象(可选)。ajax事件函数如下：</p>
<pre><code class="language-javascript">       function(XMLHttpRequest, textStatus, errorThrown){
          //通常情况下textStatus和errorThrown只有其中一个包含信息
          this;   //调用本次ajax请求时传递的options参数
       }
</code></pre>
<!--more-->
<p>12.contentType：<br>
要求为String类型的参数，当发送信息至服务器时，内容编码类型默认为&quot;application/x-www-form-urlencoded&quot;。该默认值适合大多数应用场合。</p>
<p>13.dataFilter：<br>
要求为Function类型的参数，给Ajax返回的原始数据进行预处理的函数。提供data和type两个参数。data是Ajax返回的原始数据，type是调用jQuery.ajax时提供的dataType参数。函数返回的值将由jQuery进一步处理。<br>
​</p>
<pre><code class="language-javascript">           function(data, type){
                //返回处理后的数据
                return data;
            }
</code></pre>
<p>14.dataFilter：<br>
要求为Function类型的参数，给Ajax返回的原始数据进行预处理的函数。提供data和type两个参数。data是Ajax返回的原始数据，type是调用jQuery.ajax时提供的dataType参数。函数返回的值将由jQuery进一步处理。</p>
<pre><code class="language-javascript"> function(data, type) {
        //返回处理后的数据
        return data;
    }
</code></pre>
<p>15.global：<br>
要求为Boolean类型的参数，默认为true。表示是否触发全局ajax事件。设置为false将不会触发全局ajax事件，ajaxStart或ajaxStop可用于控制各种ajax事件。</p>
<p>16.ifModified：<br>
要求为Boolean类型的参数，默认为false。仅在服务器数据改变时获取新数据。服务器数据改变判断的依据是Last-Modified头信息。默认值是false，即忽略头信息。</p>
<p>17.jsonp：<br>
要求为String类型的参数，在一个jsonp请求中重写回调函数的名字。该值用来替代在&quot;callback=?&quot;这种GET或POST请求中URL参数里的&quot;callback&quot;部分，例如{jsonp:'onJsonPLoad'}会导致将&quot;onJsonPLoad=?&quot;传给服务器。</p>
<p>18.username：<br>
要求为String类型的参数，用于响应HTTP访问认证请求的用户名。</p>
<p>19.password：<br>
要求为String类型的参数，用于响应HTTP访问认证请求的密码。</p>
<p>20.processData：<br>
要求为Boolean类型的参数，默认为true。默认情况下，发送的数据将被转换为对象（从技术角度来讲并非字符串）以配合默认内容类型&quot;application/x-www-form-urlencoded&quot;。如果要发送DOM树信息或者其他不希望转换的信息，请设置为false。</p>
<p>21.scriptCharset：<br>
要求为String类型的参数，只有当请求时dataType为&quot;jsonp&quot;或者&quot;script&quot;，并且type是GET时才会用于强制修改字符集(charset)。通常在本地和远程的内容编码不同时使用。</p>
<p>案例代码：</p>
<pre><code class="language-javascript">$(function(){
    $('#send').click(function(){
         $.ajax({
             type: &quot;GET&quot;,
             url: &quot;test.json&quot;,
             data: {username:$(&quot;#username&quot;).val(), content:$(&quot;#content&quot;).val()},
             dataType: &quot;json&quot;,
             success: function(data){
                         $('#resText').empty();   //清空resText里面的所有内容
                         var html = ''; 
                         $.each(data, function(commentIndex, comment){
                               html += '&lt;div class=&quot;comment&quot;&gt;&lt;h6&gt;' + comment['username']
                                         \+ ':&lt;/h6&gt;&lt;p class=&quot;para&quot;' + comment['content']
                                         \+ '&lt;/p&gt;&lt;/div&gt;';
                         });
                         $('#resText').html(html);
                      }
         });
    });
});
</code></pre>
<p>$.ajax验证登录：</p>
<pre><code>  &lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot;&gt;
        function IbtnEnter_onclick() {
            checklogin();
            return false;
        }
        function checklogin() {
            if ($(&quot;#TxtUserName&quot;).val() == &quot;&quot;) {
                alert(&quot;用户名不能为空！&quot;);
                $(&quot;#TxtUserName&quot;).focus();
                return false;
            }
            if ($(&quot;#TxtPassword&quot;).val() == &quot;&quot;) {
                alert(&quot;密码不能为空！&quot;);
                $(&quot;#TxtPassword&quot;).focus();
                return false;
            }
            $.ajax({
                type: &quot;POST&quot;,
                url: &quot;ajax/Handler.ashx?M=&quot; + Math.random(),
                data: &quot;username=&quot; + $(&quot;#TxtUserName&quot;).val().toString() + &quot;&amp;pwd=&quot; + $(&quot;#TxtPassword&quot;).val().toString(),
                success: function (data) {
                    if (data == &quot;1&quot;) {
                        location.href = &quot;index.aspx&quot;;
                        return true;
                    }
                    else {
                        alert(&quot;请确认您输入的用户名或密码输入是否正确！&quot;);
                        $(&quot;#TxtUserName&quot;).val(&quot;&quot;);
                        $(&quot;#TxtPassword&quot;).val(&quot;&quot;);
                        $(&quot;#TxtUserName&quot;).focus();
                        return false;
                    }
                }

            })
        }
    &lt;/script&gt;


一般处理程序

&lt;%@ WebHandler Language=&quot;C#&quot; Class=&quot;Handler&quot; %&gt;

using System;
using System.Web;
using System.Data.SqlClient;
using System.Web.SessionState;//继承接口IReadOnlySessionState需要引入的命名空间

public class Handler : IHttpHandler, IRequiresSessionState
{
    SqlHelper helper = new SqlHelper();
    public void ProcessRequest(HttpContext context)
    {
        context.Response.ContentType = &quot;text/plain&quot;;

        string username = context.Request.Params[&quot;username&quot;].ToString().Trim();
        string pwd = context.Request.Params[&quot;pwd&quot;].ToString().Trim();
        if (username != &quot;&quot; &amp;&amp; pwd != &quot;&quot;)
        {

            string sql = @&quot;SELECT * FROM [USER] WHERE USERNAME='&quot;+username+&quot;' AND PASSWORD='&quot;+pwd+&quot;' &quot;;
            if (!helper.Exists(sql))
            {
                context.Response.Write(&quot;0&quot;);
            }

            else
            {
                SqlDataReader reader = helper.ExecuteReader(sql);
                while (reader.Read())
                {
                    context.Response.Write(&quot;1&quot;);
                    context.Session[&quot;username&quot;] = username.ToString().Trim();
                    context.Session[&quot;pwd&quot;] = pwd.ToString().Trim();
                }
            }
            
        }
    }
 
    public bool IsReusable
    {
        get
        {
            return false;
        }
    }
}
</code></pre>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">下一篇</div>
                <a href="https://copyer98.github.io/post/js开发工具大全/" class="post-title gt-a-link">
                    js开发工具大全
                </a>
            </div>
        

        

        

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">温故而知新</div>
    <div class="social-container">
        
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
    </div>
    <div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="https://copyer98.github.io/atom.xml" target="_blank">RSS</a></a>
    </div>
</div>

<script>
  hljs.highlightAll()
</script>

    </div>
</div>
</body>
</html>
